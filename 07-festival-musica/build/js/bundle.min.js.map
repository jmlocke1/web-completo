{"version":3,"sources":["app.js","galeria.js"],"names":["navegacionFija","barra","document","querySelector","IntersectionObserver","entries","isIntersecting","classList","remove","add","observe","scrollNav","querySelectorAll","forEach","enlace","addEventListener","clickHandler","e","preventDefault","offsetTop","target","attributes","href","value","headerHeight","offsetHeight","console","log","window","scrollY","scroll","top","behavior","crearGaleria","galeria","imagen","lista","i","createElement","src","dataset","imagenId","onclick","mostrarImagen","appendChild","id","parseInt","getImage","overlay","cerrarImagen","textContent","body","btnIzquierda","creaBoton","btnDerecha","simbolo","btn","classBtn","normalizeId"],"mappings":"AAKA,SAAAA,iBACA,MAAAC,EAAAC,SAAAC,cAAA,WAEA,IAAAC,sBAAA,SAAAC,GACAA,EAAA,GAAAC,eACAL,EAAAM,UAAAC,OAAA,QAEAP,EAAAM,UAAAE,IAAA,WAKAC,QAAAR,SAAAC,cAAA,WAGA,SAAAQ,YACAT,SAAAU,iBAAA,2BACAC,QAAAC,IACAA,EAAAC,iBAAA,QAAAC,gBAIA,SAAAA,aAAAC,GACAA,EAAAC,iBAEA,IAAAC,EADAjB,SAAAC,cAAAc,EAAAG,OAAAC,WAAAC,KAAAC,OACAJ,UACA,MACAK,EADAtB,SAAAC,cAAA,WACAsB,aACAC,QAAAC,IAAAH,GACAI,OAAAC,SAAA,GAAAD,OAAAC,SAAAL,IACAL,GAAAK,GAEAM,OAAA,CACAC,IAAAZ,EAAAK,EACAQ,SAAA,WCnCA,SAAAC,eACA,MAAAC,EAAAhC,SAAAC,cAAA,qBACA,IAAA,IAAAgC,EAAAC,EAAAC,EAAA,EAAAA,GAAA,GAAAA,IACAF,EAAAjC,SAAAoC,cAAA,OACAH,EAAAI,IAAA,mBAAAF,SACAF,EAAAK,QAAAC,SAAAJ,EAGAF,EAAAO,QAAAC,cACAP,EAAAlC,SAAAoC,cAAA,MACAF,EAAAQ,YAAAT,GACAD,EAAAU,YAAAR,GAIA,SAAAO,cAAA1B,GAEA,IAAA4B,EAAAC,SAAA7B,EAAAG,OAAAoB,QAAAC,UACA,MAAAN,EAmDA,SAAAU,GACA,MAAAV,EAAAjC,SAAAoC,cAAA,OAEA,OADAH,EAAAI,IAAA,oBAAAM,SACAV,EAtDAY,CAAAF,GAEAG,EAAA9C,SAAAoC,cAAA,OAEAU,EAAAzC,UAAAE,IAAA,WAMA,MAAAwC,EAAA/C,SAAAoC,cAAA,KACAW,EAAAC,YAAA,IACAD,EAAA1C,UAAAE,IAAA,cAGAwC,EAAAP,QAwBA,WACAM,EAAAxC,SACA2C,EAAA5C,UAAAC,OAAA,eAvBA,MAAA4C,EAAAC,EAAA,KACAC,EAAAD,EAAA,KAEAL,EAAAJ,YAAAK,GACAD,EAAAJ,YAAAT,GACAa,EAAAJ,YAAAQ,GACAJ,EAAAJ,YAAAU,GAGA,MAAAH,EAAAjD,SAAAC,cAAA,QAgBA,SAAAkD,EAAAE,GACA,MAAAC,EAAAtD,SAAAoC,cAAA,KACAkB,EAAAN,YAAAK,EACA,MAAAE,EAAA,MAAAF,EAAA,gBAAA,cAGA,OAFAC,EAAAjD,UAAAE,IAAAgD,GAEAD,EAOA,SAAAE,EAAAb,GAMA,OALA,IAAAA,EACAA,EA5DA,GA6DA,KAAAA,IACAA,EAAA,GAEAA,EAlCAM,EAAAP,YAAAI,GACAG,EAAA5C,UAAAE,IAAA,cAEA2C,EAAAV,QAAA,KACAG,EAAAa,EAAAb,EAAA,GACAV,EAAAI,IAAA,oBAAAM,UAEAS,EAAAZ,QAAA,KACAG,EAAAa,EAAAb,EAAA,GACAV,EAAAI,IAAA,oBAAAM,UD3DA3C,SAAAa,iBAAA,oBAAA,WACAJ,YACAX,oBCFAE,SAAAa,iBAAA,oBAAA,WACAkB","file":"bundle.js","sourcesContent":["document.addEventListener('DOMContentLoaded', function() {\r\n\tscrollNav();\r\n\tnavegacionFija();\r\n});\r\n\r\nfunction navegacionFija() {\r\n\tconst barra = document.querySelector('.header');\r\n\t// Registrar el Intersection Observer\r\n\tconst observer = new IntersectionObserver( function(entries) {\r\n\t\tif(entries[0].isIntersecting) {\r\n\t\t\tbarra.classList.remove('fijo');\r\n\t\t}else{\r\n\t\t\tbarra.classList.add('fijo');\r\n\t\t}\r\n\t});\r\n\r\n\t// Elemento a observar\r\n\tobserver.observe(document.querySelector('.video'));\r\n}\r\n\r\nfunction scrollNav() {\r\n\tconst enlaces = document.querySelectorAll('.navegacion-principal a');\r\n\tenlaces.forEach( enlace => {\r\n\t\tenlace.addEventListener('click', clickHandler);\r\n\t});\r\n}\r\n\r\nfunction clickHandler(e) {\r\n\te.preventDefault();\r\n\tconst seccion = document.querySelector(e.target.attributes.href.value);\r\n\tlet offsetTop = seccion.offsetTop;\r\n\tconst header = document.querySelector('.header');\r\n\tconst headerHeight = header.offsetHeight;\r\n\tconsole.log(headerHeight);\r\n\tif(window.scrollY >= 0 && window.scrollY <= headerHeight){\r\n\t\toffsetTop -= headerHeight;\r\n\t}\r\n\tscroll({\r\n\t\ttop: offsetTop - headerHeight,\r\n\t\tbehavior: 'smooth'\r\n\t});\r\n}\r\n/*\r\nhttps://www.udemy.com/course/desarrollo-web-completo-con-html5-css3-js-php-y-mysql/learn/lecture/24148644#questions/14505582\r\nHola Gisela.\r\nCuando leí tu pregunta caí en la cuenta de eso, no me había dado ni cuenta. Después de varias horas dándole vueltas, he obtenido una solución que funciona incluso en móviles.\r\n\r\nEl tema es que con la implementación actual, cuando se desplaza la pantalla al elemento, éste se queda en la parte superior de la pantalla. Lo deseable sería que al hacer scroll se le pudiera restar el alto del header a la distancia de scroll. \r\nSin embargo, la función ScrollIntoView no permite desplazarte un número de píxeles concreto. Después de mucho buscar, la función scroll viene como anillo al dedo, pues sí permite indicar a qué posición de la pantalla te quieres desplazar\r\n*/","document.addEventListener('DOMContentLoaded', function() {\r\n    crearGaleria();\r\n});\r\n\r\nfunction crearGaleria() {\r\n    const galeria = document.querySelector('.galeria-imagenes');\r\n    for(let i = 1, imagen, lista; i <= 12; i++) {\r\n        imagen = document.createElement('IMG') ;\r\n        imagen.src = `build/img/thumb/${i}.webp`;\r\n        imagen.dataset.imagenId = i;\r\n\r\n        // Añadir la función de mostrarImagen\r\n        imagen.onclick = mostrarImagen;\r\n        lista = document.createElement('LI' );\r\n        lista.appendChild(imagen);\r\n        galeria.appendChild(lista);\r\n    }\r\n}\r\n\r\nfunction mostrarImagen(e) {\r\n    const totalImages = 12;\r\n    let id = parseInt(e.target.dataset.imagenId);\r\n    const imagen = getImage(id);\r\n    \r\n    const overlay = document.createElement('DIV');\r\n    //overlay.appendChild(imagen);\r\n    overlay.classList.add('overlay');\r\n\r\n    // Cuando se da click, cerrar la imagen\r\n    //overlay.onclick = remove;\r\n\r\n    // Botón para cerrar la imagen\r\n    const cerrarImagen = document.createElement('P');\r\n    cerrarImagen.textContent = 'X';\r\n    cerrarImagen.classList.add('btn-cerrar');\r\n\r\n    // Cuando se presiona, se cierra la imagen\r\n    cerrarImagen.onclick = remove;\r\n\r\n    // Botones de navegación\r\n    const btnIzquierda = creaBoton('<');\r\n    const btnDerecha = creaBoton('>');\r\n\r\n    overlay.appendChild(cerrarImagen);\r\n    overlay.appendChild(imagen);\r\n    overlay.appendChild(btnIzquierda);\r\n    overlay.appendChild(btnDerecha);\r\n\r\n    // Mostrar en el HTML\r\n    const body = document.querySelector('body');\r\n    body.appendChild(overlay);\r\n    body.classList.add('fijar-body');\r\n\r\n    btnIzquierda.onclick = () => {\r\n        id = normalizeId(id - 1);\r\n        imagen.src = `build/img/grande/${id}.webp`;\r\n    }\r\n    btnDerecha.onclick = () => {\r\n        id = normalizeId(id + 1);\r\n        imagen.src = `build/img/grande/${id}.webp`;\r\n    }\r\n    function remove() {\r\n        overlay.remove();\r\n        body.classList.remove('fijar-body');\r\n    }\r\n    function creaBoton(simbolo){\r\n        const btn = document.createElement('P');\r\n        btn.textContent = simbolo;\r\n        const classBtn = (simbolo === '<') ? 'btn-izquierda' : 'btn-derecha';\r\n        btn.classList.add(classBtn);\r\n\r\n        return btn;\r\n    }\r\n    function getImage(id) {\r\n        const imagen = document.createElement('IMG');\r\n        imagen.src = `build/img/grande/${id}.webp`;\r\n        return imagen;\r\n    }\r\n    function normalizeId(id){\r\n        if(id === 0){\r\n            id = totalImages;\r\n        }else if(id === 13){\r\n            id = 1;\r\n        }\r\n        return id;\r\n    }\r\n}\r\n"]}