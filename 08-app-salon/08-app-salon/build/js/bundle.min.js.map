{"version":3,"sources":["app.js"],"names":["pagina","iniciarApp","mostrarServicios","mostrarSeccion","cambiarSeccion","document","querySelector","classList","add","querySelectorAll","forEach","enlace","addEventListener","e","preventDefault","parseInt","target","dataset","paso","remove","async","resultado","fetch","db","json","servicios","listadoServicios","servicio","id","nombre","precio","nombreServicio","createElement","textContent","precioServicio","servicioDiv","idServicio","onclick","seleccionarServicio","console","appendChild","error","log","elemento","tagName","parentElement","contains"],"mappings":"AAAA,IAAAA,OAAA,EAKA,SAAAC,aACAC,mBAGAC,iBAEAC,iBAGA,SAAAD,iBACAE,SAAAC,cAAA,SAAAN,QACAO,UAAAC,IAAA,mBAGAH,SAAAC,cAAA,eAAAN,YACAO,UAAAC,IAAA,UAGA,SAAAJ,iBACAC,SAAAI,iBAAA,gBAEAC,QAAAC,IACAA,EAAAC,iBAAA,QAAAC,IACAA,EAAAC,iBACAd,OAAAe,SAAAF,EAAAG,OAAAC,QAAAC,MAGAb,SAAAC,cAAA,oBAAAC,UAAAY,OAAA,mBAEAd,SAAAC,cAAA,SAAAN,QACAO,UAAAC,IAAA,mBAEAH,SAAAC,cAAA,WAAAC,UAAAY,OAAA,UAEAd,SAAAC,cAAA,eAAAN,YACAO,UAAAC,IAAA,cAKAY,eAAAlB,mBACA,IACA,MAAAmB,QAAAC,MAAA,oBACAC,QAAAF,EAAAG,QAEAC,UAAAA,GAAAF,EACAG,EAAArB,SAAAC,cAAA,cAGAmB,EAAAf,QAAAiB,IACA,MAAAC,GAAAA,EAAAC,OAAAA,EAAAC,OAAAA,GAAAH,EAKAI,EAAA1B,SAAA2B,cAAA,KACAD,EAAAE,YAAAJ,EACAE,EAAAxB,UAAAC,IAAA,mBAEA,MAAA0B,EAAA7B,SAAA2B,cAAA,KACAE,EAAAD,YAAA,KAAAH,EACAI,EAAA3B,UAAAC,IAAA,mBAGA,MAAA2B,EAAA9B,SAAA2B,cAAA,OACAG,EAAA5B,UAAAC,IAAA,YACA2B,EAAAlB,QAAAmB,WAAAR,EAGAO,EAAAE,QAAAC,oBACAC,QAEAJ,EAAAK,YAAAT,GACAI,EAAAK,YAAAN,GAIAR,EAAAc,YAAAL,KAaA,MAAAM,GACAF,QAAAG,IAAA,2BACAH,QAAAG,IAAAD,IAMA,SAAAH,oBAAAX,GACA,IAAAgB,EAEAA,EADA,KAAAhB,EAAAX,OAAA4B,QACAjB,EAAAX,OAAA6B,cAEAlB,EAAAX,OAEA2B,EAAApC,UAAAuC,SAAA,gBACAH,EAAApC,UAAAY,OAAA,gBAEAwB,EAAApC,UAAAC,IAAA,gBAhHAH,SAAAO,iBAAA,oBAAA,WACAX","file":"bundle.min.js","sourcesContent":["let pagina = 1;\r\ndocument.addEventListener('DOMContentLoaded', function() {\r\n\tiniciarApp();\r\n});\r\n\r\nfunction iniciarApp() {\r\n\tmostrarServicios();\r\n\r\n\t// Resalta el Div Actual según el tab al que se presiona\r\n\tmostrarSeccion();\r\n\t// Oculta o muestra una sección según el tab al que se presiona\r\n\tcambiarSeccion();\r\n}\r\n\r\nfunction mostrarSeccion() {\r\n\tconst seccionActual = document.querySelector(`#paso-${pagina}`);\r\n\tseccionActual.classList.add('mostrar-seccion');\r\n\r\n\t// Resalta el tab actual\r\n\tconst tab = document.querySelector(`[data-paso=\"${pagina}\"]`);\r\n\ttab.classList.add('actual');\r\n}\r\n\r\nfunction cambiarSeccion() {\r\n\tconst enlaces = document.querySelectorAll('.tabs button');\r\n\r\n\tenlaces.forEach( enlace => {\r\n\t\tenlace.addEventListener('click', e => {\r\n\t\t\te.preventDefault();\r\n\t\t\tpagina = parseInt(e.target.dataset.paso);\r\n\r\n\t\t\t// Eliminar mostrar-seccion de la seccion anterior\r\n\t\t\tdocument.querySelector('.mostrar-seccion').classList.remove('mostrar-seccion');\r\n\t\t\t// Agrega mostrar-seccion donde dimos click\r\n\t\t\tconst seccion = document.querySelector(`#paso-${pagina}`);\r\n\t\t\tseccion.classList.add('mostrar-seccion');\r\n\t\t\t// Eliminar actual de la sección anterior\r\n\t\t\tdocument.querySelector('.actual').classList.remove('actual');\r\n\t\t\t// Agrega actual donde dimos click\r\n\t\t\tconst actual = document.querySelector(`[data-paso=\"${pagina}\"]`);\r\n\t\t\tactual.classList.add(\"actual\");\r\n\t\t});\r\n\t});\r\n}\r\n\r\nasync function mostrarServicios() {\r\n\ttry {\r\n\t\tconst resultado = await fetch('./servicios.json');\r\n\t\tconst db = await resultado.json();\r\n\r\n\t\tconst {servicios} = db;\r\n\t\tconst listadoServicios = document.querySelector('#servicios');\r\n\t\t//let servicioDiv = '';\r\n\t\t// Generar el HTML\r\n\t\tservicios.forEach(servicio => {\r\n\t\t\tconst { id, nombre, precio } = servicio;\r\n\r\n\t\t\t// DOM Scripting\r\n\t\t\t\r\n\t\t\t// Generar nombre de servicio\r\n\t\t\tconst nombreServicio = document.createElement('P');\r\n\t\t\tnombreServicio.textContent = nombre;\r\n\t\t\tnombreServicio.classList.add('nombre-servicio');\r\n\t\t\t// Generar precio\r\n\t\t\tconst precioServicio = document.createElement('P');\r\n\t\t\tprecioServicio.textContent = `$ ${precio}`;\r\n\t\t\tprecioServicio.classList.add('precio-servicio');\r\n\r\n\t\t\t// Generar div contenedor de servicio\r\n\t\t\tconst servicioDiv = document.createElement('DIV');\r\n\t\t\tservicioDiv.classList.add('servicio');\r\n\t\t\tservicioDiv.dataset.idServicio = id;\r\n\r\n\t\t\t// Selecciona un servicio para la cita\r\n\t\t\tservicioDiv.onclick = seleccionarServicio;\r\n\t\t\tconsole\r\n\t\t\t// Inyectar precio y nombre al div de servicio\r\n\t\t\tservicioDiv.appendChild(nombreServicio);\r\n\t\t\tservicioDiv.appendChild(precioServicio);\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t// Añadir el servicio al listado de servicios\r\n\t\t\tlistadoServicios.appendChild(servicioDiv);\r\n\r\n\t\t\t// Solución con innerHTML\r\n\t\t\t/*\r\n\t\t\tservicioDiv += `\r\n\t\t\t\t\t<div class=\"servicio\" data-id-servicio=\"${id}\">\r\n\t\t\t\t\t\t<p class=\"nombre-servicio\">${nombre}</p>\r\n\t\t\t\t\t\t<p class=\"precio-servicio\">$ ${precio}</p>\r\n\t\t\t\t\t</div>`;*/\r\n\t\t});\r\n\t\t// Insertamos el HTML\r\n\t\t//document.querySelector('#servicios').innerHTML = servicioDiv;\r\n\t\t\r\n\t} catch (error) {\r\n\t\tconsole.log('Fichero no encontrado: ');\r\n\t\tconsole.log(error);\r\n\t}\r\n\t\r\n}\r\n\r\n\r\nfunction seleccionarServicio(servicio) {\r\n\tlet elemento;\r\n\tif(servicio.target.tagName == 'P'){\r\n\t\telemento = servicio.target.parentElement;\r\n\t}else {\r\n\t\telemento = servicio.target;\r\n\t}\r\n\tif(elemento.classList.contains('seleccionado')) {\r\n\t\telemento.classList.remove('seleccionado');\r\n\t}else{\r\n\t\telemento.classList.add('seleccionado');\r\n\t}\r\n}"]}