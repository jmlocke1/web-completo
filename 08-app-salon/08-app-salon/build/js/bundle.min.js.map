{"version":3,"sources":["app.js"],"names":["iniciarApp","mostrarServicios","seleccionarServicios","async","resultado","fetch","db","json","servicios","listadoServicios","document","querySelector","forEach","servicio","id","nombre","precio","nombreServicio","createElement","textContent","classList","add","precioServicio","servicioDiv","dataset","idServicio","onclick","seleccionarServicio","console","appendChild","error","log","querySelectorAll","elemento","target","tagName","parentElement","contains","remove","addEventListener"],"mappings":"AAIA,SAAAA,aACAC,mBACAC,uBAGAC,eAAAF,mBACA,IACA,MAAAG,QAAAC,MAAA,oBACAC,QAAAF,EAAAG,QAEAC,UAAAA,GAAAF,EACAG,EAAAC,SAAAC,cAAA,cAGAH,EAAAI,QAAAC,IACA,MAAAC,GAAAA,EAAAC,OAAAA,EAAAC,OAAAA,GAAAH,EAKAI,EAAAP,SAAAQ,cAAA,KACAD,EAAAE,YAAAJ,EACAE,EAAAG,UAAAC,IAAA,mBAEA,MAAAC,EAAAZ,SAAAQ,cAAA,KACAI,EAAAH,YAAA,KAAAH,EACAM,EAAAF,UAAAC,IAAA,mBAGA,MAAAE,EAAAb,SAAAQ,cAAA,OACAK,EAAAH,UAAAC,IAAA,YACAE,EAAAC,QAAAC,WAAAX,EAGAS,EAAAG,QAAAC,oBACAC,QAEAL,EAAAM,YAAAZ,GACAM,EAAAM,YAAAP,GAIAb,EAAAoB,YAAAN,KAaA,MAAAO,GACAF,QAAAG,IAAA,2BACAH,QAAAG,IAAAD,IAKA,SAAA5B,uBACAQ,SAAAsB,iBAAA,aACApB,QAAAC,IACAe,QAAAG,IAAAlB,GACAA,EAAAa,QAAAC,sBAIA,SAAAA,oBAAAd,GACA,IAAAoB,EAEAA,EADA,KAAApB,EAAAqB,OAAAC,QACAtB,EAAAqB,OAAAE,cAEAvB,EAAAqB,OAEAD,EAAAb,UAAAiB,SAAA,gBACAJ,EAAAb,UAAAkB,OAAA,gBAEAL,EAAAb,UAAAC,IAAA,gBApFAX,SAAA6B,iBAAA,oBAAA,WACAvC","file":"bundle.min.js","sourcesContent":["document.addEventListener('DOMContentLoaded', function() {\r\n\tiniciarApp();\r\n});\r\n\r\nfunction iniciarApp() {\r\n\tmostrarServicios();\r\n\tseleccionarServicios();\r\n}\r\n\r\nasync function mostrarServicios() {\r\n\ttry {\r\n\t\tconst resultado = await fetch('./servicios.json');\r\n\t\tconst db = await resultado.json();\r\n\r\n\t\tconst {servicios} = db;\r\n\t\tconst listadoServicios = document.querySelector('#servicios');\r\n\t\t//let servicioDiv = '';\r\n\t\t// Generar el HTML\r\n\t\tservicios.forEach(servicio => {\r\n\t\t\tconst { id, nombre, precio } = servicio;\r\n\r\n\t\t\t// DOM Scripting\r\n\t\t\t\r\n\t\t\t// Generar nombre de servicio\r\n\t\t\tconst nombreServicio = document.createElement('P');\r\n\t\t\tnombreServicio.textContent = nombre;\r\n\t\t\tnombreServicio.classList.add('nombre-servicio');\r\n\t\t\t// Generar precio\r\n\t\t\tconst precioServicio = document.createElement('P');\r\n\t\t\tprecioServicio.textContent = `$ ${precio}`;\r\n\t\t\tprecioServicio.classList.add('precio-servicio');\r\n\r\n\t\t\t// Generar div contenedor de servicio\r\n\t\t\tconst servicioDiv = document.createElement('DIV');\r\n\t\t\tservicioDiv.classList.add('servicio');\r\n\t\t\tservicioDiv.dataset.idServicio = id;\r\n\r\n\t\t\t// Selecciona un servicio para la cita\r\n\t\t\tservicioDiv.onclick = seleccionarServicio;\r\n\t\t\tconsole\r\n\t\t\t// Inyectar precio y nombre al div de servicio\r\n\t\t\tservicioDiv.appendChild(nombreServicio);\r\n\t\t\tservicioDiv.appendChild(precioServicio);\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t// Añadir el servicio al listado de servicios\r\n\t\t\tlistadoServicios.appendChild(servicioDiv);\r\n\r\n\t\t\t// Solución con innerHTML\r\n\t\t\t/*\r\n\t\t\tservicioDiv += `\r\n\t\t\t\t\t<div class=\"servicio\" data-id-servicio=\"${id}\">\r\n\t\t\t\t\t\t<p class=\"nombre-servicio\">${nombre}</p>\r\n\t\t\t\t\t\t<p class=\"precio-servicio\">$ ${precio}</p>\r\n\t\t\t\t\t</div>`;*/\r\n\t\t});\r\n\t\t// Insertamos el HTML\r\n\t\t//document.querySelector('#servicios').innerHTML = servicioDiv;\r\n\t\t\r\n\t} catch (error) {\r\n\t\tconsole.log('Fichero no encontrado: ');\r\n\t\tconsole.log(error);\r\n\t}\r\n\t\r\n}\r\n\r\nfunction seleccionarServicios() {\r\n\tconst servicios = document.querySelectorAll('.servicio');\r\n\tservicios.forEach(servicio => {\r\n\t\tconsole.log(servicio);\r\n\t\tservicio.onclick = seleccionarServicio;\r\n\t});\r\n\t\r\n}\r\nfunction seleccionarServicio(servicio) {\r\n\tlet elemento;\r\n\tif(servicio.target.tagName == 'P'){\r\n\t\telemento = servicio.target.parentElement;\r\n\t}else {\r\n\t\telemento = servicio.target;\r\n\t}\r\n\tif(elemento.classList.contains('seleccionado')) {\r\n\t\telemento.classList.remove('seleccionado');\r\n\t}else{\r\n\t\telemento.classList.add('seleccionado');\r\n\t}\r\n}"]}